<dom-module id="app-layout">
  <template>
    <style>
      :host {
        display: block;
        height: 100%;
      }
    </style>

    <div class="layout horizontal" style="height: 100%">
      <div style="overflow-y:auto; overflow-x: hidden">
        <app-main-menu on-set-page="setPage"></app-main-menu>
      </div>
      <div class="flex" style="overflow:auto">
        <parcel-map id="map" class="page"></parcel-map>
        <parcel-list id="list" style="display:none" class="page"></parcel-list>
        <div id="results" style="display:none" class="page"></div>
      </div>
    </div>

  </template>
  <script>
    Polymer({
      is: 'app-layout',

      ready : function() {
        DSSDK.init(function(){
          console.log('budget loaded');
        });
      },

      setPage : function(e) {
        var page = e.detail;
        $(this).find('.page').hide();
        this.$[page].style.display = 'block';

        if( this.$[page].onShow ) {
          this.$[page].onShow();
        }
      }
    });
  </script>
</dom-module>
